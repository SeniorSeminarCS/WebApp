<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>World Clock</title>

<link rel="stylesheet" type="text/css" href="style-small.css">
<link rel="stylesheet" type="text/css" href="clock.css">

</head>

<body>


<!DOCTYPE> 
<html> 
	<head> 
		<title>  </title> 

		<link rel="stylesheet" type="text/css" href="style-small.css">

	<body> 
		

		<div id="container">
			
			<a href="#">
				<div id="clock">
					<div class="icon">
						<div class="clock">
							<div class="circle"></div>
							<div class="clockwise"></div>
							<div class="shadows"></div>
	    				</div>
	  				</div>
  				</div>
  			</a>
  			
  			
			<a href="weather.html">
				<div id="weather">
					<div id = "cloud">
					</div>
				</div>
			</a>
			
			
			<a href="#">
				<div id="currency">
					<div class="icon">
						<div class="calculator">
							<div class="display"></div>
							<div class="controls">&#10010;&nbsp; 
								<span class="big">-</span> 
								<br> &#10006;&nbsp; 
								<span class="medium">=</span>
							</div>
    					</div>
  					</div>
  				</div>
  			</a>
  			
  			
			<a href="#">
				<div id="measure">
					<div class="icon">
						<div class="ruler">
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
						</div>
					</div>
				</div>
			</a>
			
			
			<a href="phrase.html">
				<div id="phrase">  
					<div class="icon">
						<div class="book">
							<div class="top"></div>
							<div class="pages">
								<div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
							</div>
							<span id="phrase-title">Phrases</span>
							<div class="bookmark"></div>
    					</div>
  					</div>
  				</div>
  			</a>
  			
  			
			<a href="#">
				<div id="advice">
					<div class="icon">
						<div class="map">
							<div class="folded">
							  <div class="fold">
									<div class="content"></div>
        						</div>
								<div class="fold">
									<div class="content">
										<div class="other"></div>
       							  </div>
       						  </div>
								<div class="fold">
									<div class="content"></div>
        						</div>
      						</div>
	  					<div class="shadow"></div>
	  					<div class="flip"></div>
	  					<div class="pin"></div>
    				</div>
  					</div>
  				</div>
  			</a>
  			
		</div>
        
        <!-- Clock Div -->
        
        <div id="worldclock">
        
        <select id="Time">
        	<option value="-12"> GMT-12 Auckland, AU </option>
		    <option value="-11">GMT-11 Unalaska, US </option>
		   	<option value="-10"> GMT-10 Honolulu, US </option>
		   	<option value="-9"> GMT-9 Anchorage, US </option>
		   	<option value="-8"> GMT-8 Los Angeles, US </option>
		   	<option value="-7"> GMT-7 Denver, US </option>
		   	<option value="-6"> GMT-6 Chicago, US </option>
		   	<option value="-5"> GMT-5 New York City, US </option>
		   	<option value="-4"> GMT-4 San Juan, PR</option>
		   	<option value="-3"> GMT-3 Buenos Aires, AR </option>
		   	<option value="-2"> GMT-2 Sao Paulo, BR  </option>
		   	<option value="-1"> GMT-1 Cape Verde Islands </option>
		   	<option selected="selected" value="0"> GMT+0 London, UK </option>
		   	<option value="1"> GMT+1 Madrid, ES </option>
		   	<option value="2"> GMT+2 Athens, GR </option>
		   	<option value="3"> GMT+3 Kuwait City, KW </option>
		   	<option value="4"> GMT+4 Moscow, RU </option>
		   	<option value="5"> GMT+5 Dubai, AE </option>
		   	<option value="6"> GMT+6 Islamabad, PK </option>
		   	<option value="7"> GMT+7 Almaty, KZ </option>
		   	<option value="8"> GMT+8 Bangkok, TH </option>
		   	<option value="9"> GMT+9 Hong Kong, CH </option>
		   	<option value="10"> GMT+10 Tokyo, JP </option>			<option value="11"> GMT+11 Sydnet, AU </option>
			<option value="12"> GMT+12 Fiji </option>
        </select>
        <button type="button" onclick="getTime()">Get Time</button>    
		<p id="currentDate"></p>
		<p id="currentTime"></p>
		<p id="currentDay">Day: </p>
		<p id="currentMonth">Month: </p>
		<p id="currentYear">Year: </p>
		<p id="currentHour">Hour: </p>
		<p id="currentSecond">Second: </p>
		<p id="currentMinute">Minute: </p>
		<script>
			function getTime(){
				var xmlhttp = new XMLHttpRequest();
				var url = "http://www.timeapi.org/utc/";
				var x = document.getElementById("Time").value;
				if(x>0)
					url = "http://www.timeapi.org/utc/"+x+"+hours+from+now";
				else if(x<0){
					x = Math.abs(x);
					url = "http://www.timeapi.org/utc/"+x+"+hours+ago";
				}
				alert("The url is: "+url);	
				xmlhttp.open("GET", url, true);	
				xmlhttp.onreadystatechange=function() {
			 		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
			  	   		ResultSplit(xmlhttp.responseText);
					}
				}

				xmlhttp.send();
			
			}
			
			//Tested this out, it works if the input is in correct format
			//ex. 2015-02-23T17:47:01+00:00 -> should be response from webstie
			function ResultSplit(textData) {
				var date, day, month, year, minute, second;
		    	var newTime = "", time = "";
		    	var results = textData.split("T",2);
		    	date = results[0];
		    	time = results[1];
		    	var results2 = date.split("-",3);
			    year = results2[0];
		   		month = results2[1];
			    day = results2[2];
			 	newTime = time.substr(0,8);
			    var results3 = newTime.split(":",3);
			    hour = results3[0];
			 	minute = results3[1];
			 	second = results3[2];
			 	document.getElementById("currentDate").innerHTML = "Date: "+date;
				document.getElementById("currentTime").innerHTML = "Time: "+time;
			    document.getElementById("currentDay").innerHTML = "Day: "+day;
			    document.getElementById("currentMonth").innerHTML = "Month: "+month;
			    document.getElementById("currentYear").innerHTML = "Year: "+year;
			    document.getElementById("currentHour").innerHTML = "Hour: "+hour;
			    document.getElementById("currentMinute").innerHTML = "Minute: "+minute;
			    document.getElementById("currentSecond").innerHTML = "Second: "+second;
			}
		</script>
		
		</div>
  			
  			
  	
  			
  			
</body> 
</html>
</body>
</html>

