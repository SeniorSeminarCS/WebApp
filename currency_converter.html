<!DOCTYPE>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Currency Converter</title>

<link rel="stylesheet" type="text/css" href="style-small.css">
<link rel="stylesheet" type="text/css" href="converter.css">


</head>

<body>
		<div id="container">
			
			<a href="clock.html">
				<div id="clock">
					<div class="icon">
						<div class="clock">
							<div class="circle"></div>
							<div class="clockwise"></div>
							<div class="shadows"></div>
	    				</div>
	  				</div>
  				</div>
  			</a>
  			
			<a href="weather.html">
				<div id="weather">
					<div id = "cloud">
					</div>
				</div>
			</a>
			
			<a href="currency_converter.html">
				<div id="currency">
					<div class="icon">
						<div class="calculator">
							<div class="display"></div>
							<div class="controls">&#10010;&nbsp; 
								<span class="big">-</span> 
								<br> &#10006;&nbsp; 
								<span class="medium">=</span>
							</div>
    					</div>
  					</div>
  				</div>
  			</a>
  			
			<a href="unit_converter.html">
				<div id="measure">
					<div class="icon">
						<div class="ruler">
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
							<div class="point"></div>
						</div>
					</div>
				</div>
			</a>
			
			<a href="phrase.html">
				<div id="phrase">  
					<div class="icon">
						<div class="book">
							<div class="top"></div>
							<div class="pages">
								<div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
						        <div class="page"></div>
							</div>
							<span id="phrase-title">Phrases</span>
							<div class="bookmark"></div>
    					</div>
  					</div>
  				</div>
  			</a>
  			
			<a href="advice.html">
				<div id="advice">
					<div class="icon">
						<div class="map">
							<div class="folded">
							  <div class="fold">
									<div class="content"></div>
        						</div>
								<div class="fold">
									<div class="content">
										<div class="other"></div>
       							  </div>
       						  </div>
								<div class="fold">
									<div class="content"></div>
        						</div>
      						</div>
	  					<div class="shadow"></div>
	  					<div class="flip"></div>
	  					<div class="pin"></div>
    				</div>
  					</div>
  				</div>
  			</a>
  			
		</div>
        
        
        <!-- Currency Converter -->
        
        <div id="converter">
        <p> To: </p>
			<select id="fromCur">
            	<option value="USD"> USD </option>
                <option value="EUR"> EUR </option>            
            </select>
		<p> Amount: </p> <input type="textfield" value="0" id = "amount">
         <p> From: </p>
            <select id="toCur">
            	<option value="USD"> USD </option>
                <option value="EUR"> EUR </option>            
            </select>
		<br />
        <button type="button" onclick="getCurrency()">Convert</button>    
		<p> Amount: </p> <input type="textfield" value="0" id = "answer">


	<script> 
		function getCurrency(){
			var url = "http://www.freecurrencyconverterapi.com/api/v3/convert?q="+document.getElementById("fromCur").value+"_"+document.getElementById("toCur").value+"&compact=y&callback=myCallback"
			var script = document.createElement("script");
			script.setAttribute("src", url);
			document.head.appendChild(script);
			//alert(url);
		}
		
		function myCallback(json) { 
			var results = document.getElementById("fromCur").value+"_"+document.getElementById("toCur").value
			var rate = json[results].val;
			var conversion = document.getElementById("amount").value*rate;
			conversion = Math.round(conversion * 100) / 100;
			console.log(conversion);
			document.getElementById("answer").setAttribute("value", conversion);
		} 
		
	</script>
        
        </div>
</body>
</html>
